<%- include("partials/header.ejs") %>

<div class="container-fluid featured mx-0">
  <div class="container">
    <header class="border-bottom lh-1 py-3 mb-3">
      <div class="row flex-nowrap justify-content-between align-items-center">
        <div class="col-4 pt-1">
          <a
            class="link-secondary link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover"
            href="#"
          >
            Subscribe
          </a>
        </div>
        <div class="col-4 text-center">
          <a><img src="images/logomark.png" width="180px" /></a>
        </div>
        <div class="col-4 d-flex justify-content-end align-items-center">
          <a
            href="/tools"
            class="link-secondary link-offset-2 link-offset-3-hover link-underline link-underline-opacity-0 link-underline-opacity-75-hover me-4"
          >
            Creator's Tools
          </a>
          <button class="btn btn-outline-primary border-2" href="#">
            Sign Up
          </button>
        </div>
      </div>
    </header>

    <div class="p-4 p-md-5 mb-4 text-body-emphasis">
      <div class="col-lg-7 pe-0 ps-5 border-start border-5">
        <strong
          class="tag d-inline-block mb-3 badge rounded-pill text-bg-primary text-primary-emphasis fs-6"
          >FEATURED</strong
        >
        <h1 class="display-4 fst-italic"><%= blogs[0].title %></h1>
        <p class="lead my-3">
          <% if(locals.blogs[0].content){ %> <% var parsedBlog =
          blogs[0].content.replace(new RegExp("\r?\n", "g"), "<br />") %> <%
          const p = parsedBlog.split("\<br /><br />") %> <%- p[0] %> <% } %>
        </p>
        <p class="lead mb-0">
          <a
            href="<%= blogs[0].id %>"
            class="icon-link gap-1 icon-link-hover fw-bold"
          >
            Continue reading
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              class="bi bi-chevron-right"
              viewBox="0 0 16 16"
            >
              <path
                fill-rule="evenodd"
                d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708"
              />
            </svg>
          </a>
        </p>
      </div>
    </div>
  </div>
</div>

<body>
  <main class="container mb-4">
    <div class="row g-5">
      <div class="col-md-8">
        <h3 class="mb-3 fst-italic border-primary border-2">
          Latest Stories from the Cosmos
        </h3>

        <% for (let i = 1; i < blogs.length; i++) { %>

        <article class="blog-post border-top pt-3">
          <a
            href="<%= blogs[i].id %>"
            class="link-body-emphasis text-decoration-none"
            ><h2 class="display-5 link-body-emphasis mb-1">
              <%= blogs[i].title %>
            </h2>
          </a>
          <p class="blog-post-meta">
            <%= blogs[i].date %> by
            <strong><%= blogs[i].author %></strong>
          </p>
          <p>
            <%- blogs[i].content.replace(new RegExp("\r?\n", "g"), "<br />") %>
          </p>
        </article>
        <% } %>
        <nav class="blog-pagination" aria-label="Pagination">
          <a class="btn btn-outline-primary rounded-pill" href="#">Older</a>
          <a
            class="btn btn-outline-secondary rounded-pill disabled"
            aria-disabled="true"
            >Newer</a
          >
        </nav>
      </div>

      <div class="col-md-4">
        <div class="position-sticky" style="top: 2rem">
          <div class="p-4 mb-3 bg-body-tertiary rounded">
            <h4 class="fst-italic">About</h4>
            <p class="mb-0">
              QuillSpace is your cosmic playground for creative expression!
              Unleash the power of your words beyond traditional limits. Whether
              you're a seasoned pro or just starting out, QuillSpace offers the
              tools and community support you need to soar. Join us and explore
              endless inspiration for your writing journey!
            </p>
          </div>

          <div>
            <h4 class="fst-italic">Recent</h4>
            <ul class="list-unstyled">
              <% const numBlogs = 8 < blogs.length ? 8 : blogs.length; %> <% for
              (let i = 0; i < numBlogs; i++) { %>
              <li>
                <a
                  class="d-flex flex-column flex-lg-row gap-3 align-items-start align-items-lg-center py-3 link-body-emphasis text-decoration-none border-top"
                  href="#"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 512 512"
                    height="30"
                  >
                    <path
                      fill="#9290c3"
                      d="M96 96c0-35.3 28.7-64
                    64-64H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64
                    64H80c-44.2 0-80-35.8-80-80V128c0-17.7 14.3-32 32-32s32 14.3
                    32 32V400c0 8.8 7.2 16 16 16s16-7.2 16-16V96zm64 24v80c0
                    13.3 10.7 24 24 24H296c13.3 0 24-10.7
                    24-24V120c0-13.3-10.7-24-24-24H184c-13.3 0-24 10.7-24
                    24zm208-8c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2
                    16-16s-7.2-16-16-16H384c-8.8 0-16 7.2-16 16zm0 96c0 8.8 7.2
                    16 16 16h48c8.8 0 16-7.2 16-16s-7.2-16-16-16H384c-8.8 0-16
                    7.2-16 16zM160 304c0 8.8 7.2 16 16 16H432c8.8 0 16-7.2
                    16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16zm0 96c0 8.8 7.2
                    16 16 16H432c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16
                    7.2-16 16z"
                    />
                  </svg>

                  <div class="col-lg-8">
                    <h6 class="mb-0"><%= blogs[i].title %></h6>
                    <small class="text-body-secondary"
                      ><%= blogs[i].date%></small
                    >
                  </div>
                </a>
              </li>
              <% } %>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <%- include("partials/footer.ejs") %>
  </main>

  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"
  ></script>
</body>
